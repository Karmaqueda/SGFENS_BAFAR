
--Tabla para el control de token's generados para la liga que se le entrega al cliente; para que Ã©l mismo se realice el cobro de la tarjeta.
-- Leonardo Montes de Oca, 10/02/2015

CREATE TABLE BANCO_OPERACION_TOKEN(
	ID_BANCO_OPERACION INT(10) NOT NULL AUTO_INCREMENT,
        ID_EMPRESA INT(10) COMMENT 'ID DE LA EMPRESA A LA QUE PERTENECE EL TOKEN',
        ID_ESTATUS INT(1) COMMENT '1 PENDIENTE DE PAGO, 2 DESACTIVADO POR USUARIO, 3 PROCESADO Y PAGADO, 4 NO PASO EL PAGO',
        ID_USUARIO INT(10) COMMENT 'ID DEL USUARIO QUE GENERO EL TOKEN/LIGA',
        NOMBRE_TITULAR VARCHAR(100) COMMENT 'NOMBRE DEL TITULAR DE LA TARJETA; ESTE NOMBRE LO DIO EL CLIENTE CUANDO SOLICITO UN NUEVO COBRO',
        CONCEPTO_DESCRIPCION VARCHAR(150) COMMENT 'DESCRIPCION DEL CONCEPTO POR EL CUAL SE REALIZA EL COBRO',
        MONTO DOUBLE COMMENT 'MONTO DE LA TRANSACCION',
        TOKEN_GENERADO VARCHAR(30) COMMENT 'EL IDENTIFICADOR PARA VALIDAR QUE EXISTE LA PETICION DE COBRO',
        LIGA_GENERADA TEXT,
        FECHA_GENERACION DATETIME,
        FECHA_USO DATETIME,
        CORREO_DESTINO_LIGA VARCHAR(100) COMMENT 'CORREO AL QUE SE ENVIARA LA LIGA',
        ID_TABLA_BANCO_OPERACION INT(10) COMMENT 'ID DE LA TABLA BANCO_OPERACION QUE SE LIGA AL PROCESO DE PAGO DE ESTE TOKEN',
        PRIMARY KEY (ID_BANCO_OPERACION)
);
